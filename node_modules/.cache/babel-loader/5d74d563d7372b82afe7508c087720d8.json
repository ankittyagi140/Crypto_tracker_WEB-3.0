{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/ankit/OneDrive/Desktop/crypto_tracker/crypto_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ankit/OneDrive/Desktop/crypto_tracker/crypto_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ankit\\\\OneDrive\\\\Desktop\\\\crypto_tracker\\\\crypto_tracker\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import\"./Detail.css\";import{useContext,useEffect,useState}from\"react\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{SingleCoin}from\"../../Config/api\";import{LinearProgress}from\"@mui/material\";import CoinChart from\"../../Components/CoinChart/CoinChart\";import CoinDetails from\"../../Components/CoinDetails/CoinDetails\";import{CryptoState}from\"../../CryptoContext/CryptoContext\";import HocMillion from\"../../Components/Hoc/HocMillion\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Detail=function Detail(_ref){var _coinData$market_data,_coinData$market_data2,_coinData$market_data3,_coinData$market_data4,_coinData$market_data5,_coinData$market_data6;var props=_ref.props;var _useState=useState(),_useState2=_slicedToArray(_useState,2),coinData=_useState2[0],setCoinData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useParams=useParams(),id=_useParams.id;var _useContext=useContext(CryptoState),currency=_useContext.currency,symbol=_useContext.symbol;var fetchCoinDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var _yield$Promise,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return new Promise(function(res){res(axios.get(SingleCoin(id)));});case 2:_yield$Promise=_context.sent;data=_yield$Promise.data;setCoinData(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchCoinDetails(_x){return _ref2.apply(this,arguments);};}();var numFormatter=function numFormatter(num){if(num>999&&num<1000000){return(num/1000).toFixed(2)+\"K\";// convert to K for number from > 1000 < 1 million\n}else if(num>1000000){return(num/1000000).toFixed(2)+\"M\";// convert to M for number from > 1 million\n}else if(num<900){return num;// if value < 1000, nothing to do\n}};console.log(coinData);console.log(props);useEffect(function(){setIsLoading(true);fetchCoinDetails(id);setIsLoading(false);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"info_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font_sw\",children:[\"Current price: \",symbol,\" \",coinData===null||coinData===void 0?void 0:(_coinData$market_data=coinData.market_data)===null||_coinData$market_data===void 0?void 0:(_coinData$market_data2=_coinData$market_data.current_price)===null||_coinData$market_data2===void 0?void 0:_coinData$market_data2.usd]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Market Cap: \",numFormatter(coinData===null||coinData===void 0?void 0:(_coinData$market_data3=coinData.market_data)===null||_coinData$market_data3===void 0?void 0:(_coinData$market_data4=_coinData$market_data3.market_cap)===null||_coinData$market_data4===void 0?void 0:_coinData$market_data4.usd)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"ATH: \",symbol,\" \",coinData===null||coinData===void 0?void 0:(_coinData$market_data5=coinData.market_data)===null||_coinData$market_data5===void 0?void 0:(_coinData$market_data6=_coinData$market_data5.ath)===null||_coinData$market_data6===void 0?void 0:_coinData$market_data6.usd]})]}),isLoading?/*#__PURE__*/_jsx(LinearProgress,{style:{color:\"gold\"}}):/*#__PURE__*/_jsxs(\"div\",{className:\"main_container\",children:[/*#__PURE__*/_jsx(CoinDetails,{coinData:coinData}),/*#__PURE__*/_jsx(CoinChart,{coinData:coinData})]})]});};export default Detail;","map":{"version":3,"sources":["C:/Users/ankit/OneDrive/Desktop/crypto_tracker/crypto_tracker/src/Pages/Detail/Detail.js"],"names":["useContext","useEffect","useState","axios","useParams","SingleCoin","LinearProgress","CoinChart","CoinDetails","CryptoState","HocMillion","Detail","props","coinData","setCoinData","isLoading","setIsLoading","id","currency","symbol","fetchCoinDetails","Promise","res","get","data","numFormatter","num","toFixed","console","log","market_data","current_price","usd","market_cap","ath","color"],"mappings":"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","sourcesContent":["import \"./Detail.css\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { SingleCoin } from \"../../Config/api\";\r\nimport { LinearProgress } from \"@mui/material\";\r\nimport CoinChart from \"../../Components/CoinChart/CoinChart\";\r\nimport CoinDetails from \"../../Components/CoinDetails/CoinDetails\";\r\nimport { CryptoState } from \"../../CryptoContext/CryptoContext\";\r\nimport HocMillion from \"../../Components/Hoc/HocMillion\";\r\n\r\nconst Detail = ({ props }) => {\r\n  const [coinData, setCoinData] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { id } = useParams();\r\n  const { currency, symbol } = useContext(CryptoState);\r\n\r\n  const fetchCoinDetails = async (id) => {\r\n    const { data } = await new Promise((res) => {\r\n      res(axios.get(SingleCoin(id)));\r\n    });\r\n    setCoinData(data);\r\n  };\r\n\r\n  const numFormatter = (num) => {\r\n    if (num > 999 && num < 1000000) {\r\n      return (num / 1000).toFixed(2) + \"K\"; // convert to K for number from > 1000 < 1 million\r\n    } else if (num > 1000000) {\r\n      return (num / 1000000).toFixed(2) + \"M\"; // convert to M for number from > 1 million\r\n    } else if (num < 900) {\r\n      return num; // if value < 1000, nothing to do\r\n    }\r\n  };\r\n  console.log(coinData);\r\n  console.log(props)\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    fetchCoinDetails(id);\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"info_container\">\r\n      <div className=\"heading\">\r\n        <span className=\"font_sw\">\r\n          Current price: {symbol} {coinData?.market_data?.current_price?.usd}\r\n        </span>\r\n        <span>\r\n          Market Cap: {numFormatter(coinData?.market_data?.market_cap?.usd)}\r\n        </span>\r\n        <span>\r\n          ATH: {symbol} {coinData?.market_data?.ath?.usd}\r\n        </span>\r\n      </div>\r\n      {isLoading ? (\r\n        <LinearProgress style={{ color: \"gold\" }}></LinearProgress>\r\n      ) : (\r\n        <div className=\"main_container\">\r\n          <CoinDetails coinData={coinData} />\r\n          <CoinChart coinData={coinData} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Detail;\r\n"]},"metadata":{},"sourceType":"module"}